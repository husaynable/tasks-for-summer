<form #createForm="ngForm">
  <mat-card>
    <mat-card-content>
      <mat-form-field appearance="outline">
        <mat-label>Login</mat-label>
        <input
          matInput
          placeholder="Login"
          #loginCtrl="ngModel"
          required
          [(ngModel)]="login"
          autofocus
          name="login"
          type="email"
          pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$"
        />
        <mat-error *ngIf="loginCtrl.hasError('required')">Login is required</mat-error>
        <mat-error *ngIf="loginCtrl.hasError('pattern')">Email is not valid</mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input
          matInput
          placeholder="User Name"
          #nameCtrl="ngModel"
          required
          [(ngModel)]="username"
          name="name"
        />
        <mat-error *ngIf="nameCtrl.hasError('required')">User Name is required</mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <input
          matInput
          type="password"
          #passwordCtrl="ngModel"
          required
          placeholder="Password"
          [(ngModel)]="password"
          name="password"
        />
        <mat-error *ngIf="passwordCtrl.hasError('required')">Password is required</mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Repeat Password</mat-label>
        <input
          matInput
          type="password"
          #repeatPasswordCtrl="ngModel"
          required
          validateEqual="password"
          placeholder="Repeat Password"
          [(ngModel)]="repeatPassword"
          name="repeatPassword"
        />
        <mat-error *ngIf="repeatPasswordCtrl.hasError('validateEqual')">Passwords does not match</mat-error>
        <mat-error *ngIf="repeatPasswordCtrl.hasError('required')">Repeat password is required</mat-error>
      </mat-form-field>
    </mat-card-content>
    <mat-card-actions>
      <button
        mat-raised-button
        color="accent"
        [disabled]="!createForm.valid"
        type="button"
        (click)="createNew()"
      >
        Create User
      </button>
    </mat-card-actions>
  </mat-card>
</form>
